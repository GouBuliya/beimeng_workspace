# Beimeng Workspace - Cursor AI 规则

## 项目特定规则

### 代码风格
- 使用 Python 3.12+ 特性
- 单个文件不超过 1000 行
- 使用完整的类型提示
- Google Style docstrings
- 通过 ruff 和 mypy 检查

### 组件创建规范
创建任何新组件（app/script/package）时必须包含：
1. README.md - 完整的使用文档
2. .ai.json - AI 可解析的元数据（符合 .ai/schemas/component.schema.json）
3. examples/ - 至少一个可运行的示例
4. 完整的 Google Style docstrings
5. 类型提示

### AI Agent 友好设计
- 所有 CLI 使用 Typer 框架
- 输入输出优先使用 JSON/YAML
- 配置使用 Pydantic Settings
- 接口标准化且可预测
- 提供清晰的错误消息

### 文档要求
- 每个函数和类都要有 docstring
- 包含 Args, Returns, Raises, Examples
- README 包含安装、使用、配置、示例
- .ai.json 包含 interface、examples、ai_hints

### 工具使用
- 格式化: `ruff format`
- Lint: `ruff check --fix`
- 类型检查: `mypy`
- 测试: `pytest`

### Git 提交规范
- feat: 新功能
- fix: 修复 bug
- docs: 文档更新
- refactor: 重构
- test: 测试
- chore: 构建/工具更新

### 开发流程
1. 小步快跑，步步验证
2. 经常使用 git 保存进度
3. 创建组件后立即更新 AI 上下文: `python scripts/tools/update_ai_context.py`
4. 使用 pre-commit hooks 确保代码质量

### AI 提示模板
使用 .ai/prompts/ 中的模板来指导 AI：
- create_component.md - 创建新组件
- code_review.md - 代码审查

### 工程化思维
- 不要做玩具，使用 SOTA 模式
- 考虑可维护性和可扩展性
- 遵循 SOLID 原则
- 优先使用已有的 packages/common 组件

