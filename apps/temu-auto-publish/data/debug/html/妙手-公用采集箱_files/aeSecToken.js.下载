!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("axios")):"function"==typeof define&&define.amd?define(["axios"],t):(e=e||self).aeSecToken=t(e.axios)}(this,function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e;var t=function(){return(t=Object.assign||function(e){for(var t,r=arguments,n=1,o=arguments.length;o>n;n++)for(var i in t=r[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{a(n.next(e))}catch(t){i(t)}}function u(e){try{a(n["throw"](e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,u)}a((n=n.apply(e,t||[])).next())})}function n(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),"throw":u(1),"return":u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&o[3]>i[1])){s.label=i[1];break}if(6===i[0]&&o[1]>s.label){s.label=o[1],o=i;break}if(o&&o[2]>s.label){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var o=function(){function r(r){this.api=e.create(r),this.api.interceptors.request.use(function(e){return t({},e)}),this.api.interceptors.response.use(function(e){return e},function(e){return Promise.reject(e)}),this.api.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"}return r.prototype.getUri=function(e){return this.api.getUri(e)},r.prototype.request=function(e){return this.api.request(e)},r.prototype.get=function(e,t){return this.api.get(e,t)},r.prototype["delete"]=function(e,t){return this.api["delete"](e,t)},r.prototype.head=function(e,t){return this.api.head(e,t)},r.prototype.post=function(e,t,r){return this.api.post(e,t,r)},r.prototype.put=function(e,t,r){return this.api.put(e,t,r)},r.prototype.patch=function(e,t,r){return this.api.patch(e,t,r)},r}();return new(function(){function e(){this.hc=[new o({baseURL:"https://sg-eco-gw.alibaba.com/"})]}return e.prototype.getAeSecTokenByBX=function(e){return r(this,void 0,Promise,function(){var t,r;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.hc[0].post("/ae-verify/getSecTokenByBX",{},{params:e.params,headers:e.headers,withCredentials:!0})];case 1:return t=n.sent(),[3,3];case 2:return r=n.sent(),console.error(r),[2,this.defaultErrorSecTokenResult()];case 3:return[2,t]}})})},e.prototype.getDecryptDataByBX=function(e){return r(this,void 0,Promise,function(){var t,r;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.hc[0].post("/ae-verify/getValidTokenByBX",JSON.stringify(e.data),{params:e.params,headers:e.headers,withCredentials:!0})];case 1:return t=n.sent(),[3,3];case 2:return r=n.sent(),console.error(r),[2,this.defaultErrorSecTokenResult()];case 3:return[2,t]}})})},e.prototype.defaultErrorSecTokenResult=function(){return Promise.resolve({success:!1,code:10100,msg:"未知异常，需要联系小二解决",model:{},httpStatusCode:"500",sub_code:"",sub_msg:""})},e}())});
