# äº§å“æ•°æ®è¾“å…¥ç›®å½•

## ğŸ“‹ æ–‡ä»¶è¯´æ˜

### æ ¼å¼åŒ–åçš„ Excel æ–‡ä»¶

ä½¿ç”¨ `10æœˆå“ _æ ¼å¼åŒ–.xlsx` ä½œä¸ºè„šæœ¬çš„è¾“å…¥æ–‡ä»¶ã€‚

### Excel åˆ—è¯´æ˜

| åˆ—å | è¯´æ˜ | æ˜¯å¦å¿…å¡« | ç¤ºä¾‹ |
|------|------|----------|------|
| **äº§å“åç§°** | äº§å“çš„åç§° | âœ… å¿…å¡« | å«ç”Ÿé—´æ”¶çº³æŸœ |
| **æ ‡é¢˜åç¼€** | è¿½åŠ åˆ°æ ‡é¢˜æœ«å°¾çš„ç¼–å· | âœ… å¿…å¡« | A026 |
| **äº§å“é¢œè‰²/è§„æ ¼** | äº§å“çš„å…·ä½“è§„æ ¼æè¿° | âœ… å¿…å¡« | è§„æ ¼ä¸€ï¼š3å±‚ |
| **è§„æ ¼åºå·** | è‡ªåŠ¨ç”Ÿæˆçš„è§„æ ¼åºå· | âœ… è‡ªåŠ¨ | 1, 2, 3... |
| **å›¾ç‰‡è·¯å¾„** | äº§å“å›¾ç‰‡ç›¸å¯¹è·¯å¾„ | âš ï¸ æ¨è | products/A026_1.jpg |
| **åˆ°è´§æƒ…å†µ** | äº§å“åˆ°è´§çŠ¶æ€ | âŒ å¯é€‰ | ä»“åº“ç°è´§ å¯ä¸Šæ¶ |
| **è¿›è´§ä»·** | è¿›è´§æˆæœ¬ä»·æ ¼ | âŒ å¯é€‰ | 88 |
| **æ ¸ä»·ä»·æ ¼** | æ ¸ç®—åçš„ä»·æ ¼ | âŒ å¯é€‰ | 249 |
| **å‘è´§åœ°** | äº§å“å‘è´§åœ°ç‚¹ | âŒ å¯é€‰ | å¹¿å· |

## ğŸ–¼ï¸ å›¾ç‰‡ç®¡ç†

### å›¾ç‰‡å­˜æ”¾ä½ç½®

```
apps/temu-auto-publish/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ input/
â”‚   â”‚   â””â”€â”€ 10æœˆå“ _æ ¼å¼åŒ–.xlsx
â”‚   â””â”€â”€ image/
â”‚       â””â”€â”€ products/
â”‚           â”œâ”€â”€ A026_1.jpg  â† äº§å“å›¾ç‰‡æ”¾è¿™é‡Œ
â”‚           â”œâ”€â”€ A026_2.jpg
â”‚           â””â”€â”€ A026_3.jpg
```

### å›¾ç‰‡å‘½åè§„èŒƒ

**æ¨èæ ¼å¼: `{æ ‡é¢˜åç¼€}_{è§„æ ¼åºå·}.{æ‰©å±•å}`**

ç¤ºä¾‹:
```
A026_1.jpg    â†’ å«ç”Ÿé—´æ”¶çº³æŸœ è§„æ ¼ä¸€
A026_2.jpg    â†’ å«ç”Ÿé—´æ”¶çº³æŸœ è§„æ ¼äºŒ
A026_3.jpg    â†’ å«ç”Ÿé—´æ”¶çº³æŸœ è§„æ ¼ä¸‰
A055_1.png    â†’ çŒ«ç ‚ç›† è§„æ ¼ä¸€
A055_2.png    â†’ çŒ«ç ‚ç›† è§„æ ¼äºŒ
```

### æ”¯æŒçš„å›¾ç‰‡æ ¼å¼

- `.jpg` / `.jpeg` (æ¨è)
- `.png`
- `.webp`

### åœ¨ Excel ä¸­å¼•ç”¨å›¾ç‰‡

åœ¨ `å›¾ç‰‡è·¯å¾„` åˆ—å¡«å†™:

```
products/A026_1.jpg
products/A026_2.jpg
products/A055_1.png
```

## ğŸš€ ä½¿ç”¨æµç¨‹

### 1. æ ¼å¼åŒ–åŸå§‹ Excel

```bash
cd apps/temu-auto-publish
uv run python scripts/format_product_excel.py "data/input/10æœˆå“ .xlsx"
```

è¾“å‡º: `data/input/10æœˆå“ _æ ¼å¼åŒ–.xlsx`

### 2. å‡†å¤‡äº§å“å›¾ç‰‡

å°†äº§å“å›¾ç‰‡æŒ‰ç…§å‘½åè§„èŒƒæ”¾å…¥ `data/image/products/` ç›®å½•ã€‚

æœ‰ä¸¤ç§æ–¹å¼:

**æ–¹å¼A: æ‰‹åŠ¨å‘½åå›¾ç‰‡ (æ¨è)**
```bash
# ç¤ºä¾‹: å«ç”Ÿé—´æ”¶çº³æŸœæœ‰3ä¸ªè§„æ ¼
cp å›¾ç‰‡1.jpg data/image/products/A026_1.jpg
cp å›¾ç‰‡2.jpg data/image/products/A026_2.jpg
cp å›¾ç‰‡3.jpg data/image/products/A026_3.jpg
```

**æ–¹å¼B: åœ¨ Excel ä¸­æ‰‹åŠ¨å¡«å†™å›¾ç‰‡è·¯å¾„**

åœ¨ `å›¾ç‰‡è·¯å¾„` åˆ—å¡«å†™:
```
products/A026_1.jpg
products/A026_2.jpg
products/A026_3.jpg
```

### 3. é‡æ–°è¿è¡Œæ ¼å¼åŒ–è„šæœ¬ (å¯é€‰)

å¦‚æœä½¿ç”¨æ–¹å¼Aï¼Œé‡æ–°è¿è¡Œè„šæœ¬ä¼šè‡ªåŠ¨åŒ¹é…å›¾ç‰‡:

```bash
uv run python scripts/format_product_excel.py "data/input/10æœˆå“ .xlsx"
```

è„šæœ¬ä¼šè‡ªåŠ¨è¯†åˆ« `data/image/products/` ä¸­çš„å›¾ç‰‡å¹¶å¡«å…… `å›¾ç‰‡è·¯å¾„` åˆ—ã€‚

### 4. è¿è¡Œå‘å¸ƒå·¥ä½œæµ

```bash
uv run python main.py --input "data/input/10æœˆå“ _æ ¼å¼åŒ–.xlsx"
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### å›¾ç‰‡ç›¸å…³

1. **å›¾ç‰‡å¿…é¡»å­˜åœ¨**: è„šæœ¬ä¼šæ£€æŸ¥ `å›¾ç‰‡è·¯å¾„` åˆ—ä¸­çš„å›¾ç‰‡æ˜¯å¦å­˜åœ¨
2. **è·¯å¾„æ ¼å¼**: ä½¿ç”¨ç›¸å¯¹è·¯å¾„ `products/xxx.jpg`ï¼Œä¸è¦ç”¨ç»å¯¹è·¯å¾„
3. **æ–‡ä»¶å¤§å°**: å»ºè®®å•å¼ å›¾ç‰‡ä¸è¶…è¿‡ 5MB
4. **åˆ†è¾¨ç‡**: å»ºè®®è‡³å°‘ 800x800 åƒç´ 

### Excel ç›¸å…³

1. **ä¸è¦ä¿®æ”¹åˆ—å**: è„šæœ¬ä¾èµ–æ ‡å‡†åˆ—åè¯»å–æ•°æ®
2. **ä¸è¦ç•™ç©ºè¡Œ**: æ ¼å¼åŒ–åçš„ Excel ä¸åº”æœ‰ç©ºè¡Œ
3. **ç¼–ç é—®é¢˜**: å¦‚æœäº§å“åç§°æœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œç¡®ä¿ Excel ä½¿ç”¨ UTF-8 ç¼–ç 

## ğŸ“Š æ‰¹é‡å›¾ç‰‡å¤„ç†ç¤ºä¾‹

å¦‚æœä½ æœ‰å¾ˆå¤šäº§å“å›¾ç‰‡éœ€è¦æ‰¹é‡é‡å‘½å:

```bash
# åˆ›å»ºæ‰¹é‡é‡å‘½åè„šæœ¬
cat > rename_images.sh << 'EOF'
#!/bin/bash
# ç¤ºä¾‹: æ‰¹é‡é‡å‘½åäº§å“å›¾ç‰‡

# å«ç”Ÿé—´æ”¶çº³æŸœ (A026) - 3ä¸ªè§„æ ¼
mv "åŸå›¾1.jpg" "data/image/products/A026_1.jpg"
mv "åŸå›¾2.jpg" "data/image/products/A026_2.jpg"
mv "åŸå›¾3.jpg" "data/image/products/A026_3.jpg"

# æ´—è¡£ç¯® (A045) - 2ä¸ªè§„æ ¼
mv "åŸå›¾4.jpg" "data/image/products/A045_1.jpg"
mv "åŸå›¾5.jpg" "data/image/products/A045_2.jpg"

# ... ç»§ç»­æ·»åŠ å…¶ä»–äº§å“
EOF

chmod +x rename_images.sh
./rename_images.sh
```

## ğŸ” éªŒè¯æ•°æ®

è¿è¡Œæ ¼å¼åŒ–è„šæœ¬åï¼Œä¼šæ˜¾ç¤º:

- âœ… æ€»è®°å½•æ•°
- âœ… äº§å“æ•°é‡
- âœ… å·²åŒ¹é…å›¾ç‰‡æ•°
- âš ï¸ ç¼ºå¤±å›¾ç‰‡åˆ—è¡¨

ç¡®ä¿æ‰€æœ‰äº§å“éƒ½æœ‰å›¾ç‰‡åå†è¿è¡Œå‘å¸ƒå·¥ä½œæµã€‚

## ğŸ“ å¸¸è§é—®é¢˜

### Q: å›¾ç‰‡è·¯å¾„å†™äº†ä½†è„šæœ¬æ‰¾ä¸åˆ°?

A: æ£€æŸ¥:
1. è·¯å¾„æ ¼å¼æ˜¯å¦ä¸º `products/xxx.jpg` (ä¸è¦ `./` æˆ– `/`)
2. å›¾ç‰‡æ–‡ä»¶æ˜¯å¦çœŸçš„å­˜åœ¨äº `data/image/products/` ç›®å½•
3. æ–‡ä»¶åå¤§å°å†™æ˜¯å¦åŒ¹é… (Linux/Mac åŒºåˆ†å¤§å°å†™)

### Q: å¯ä»¥ä¸å¡«å›¾ç‰‡è·¯å¾„å—?

A: å¯ä»¥ï¼Œä½†è„šæœ¬å¯èƒ½ä½¿ç”¨é»˜è®¤å ä½å›¾ç‰‡æˆ–è·³è¿‡å›¾ç‰‡ä¸Šä¼ ã€‚

### Q: åŸ Excel ä¸­çš„ =DISPIMG() å…¬å¼æ€ä¹ˆå¤„ç†?

A: è¿™æ˜¯ WPS/é‡‘å±±è¡¨æ ¼çš„å†…ç½®å›¾ç‰‡å¼•ç”¨ï¼Œæ— æ³•ç›´æ¥æå–ã€‚éœ€è¦:
1. åœ¨ WPS ä¸­æ‰‹åŠ¨å¯¼å‡ºå›¾ç‰‡
2. æˆ–ä»äº§å“æ¥æºç½‘ç«™é‡æ–°ä¸‹è½½å›¾ç‰‡

### Q: ä¸€ä¸ªäº§å“æœ‰å¤šä¸ªè§„æ ¼ä½†å…±ç”¨ä¸€å¼ å›¾ç‰‡?

A: å¯ä»¥ä½¿ç”¨ç¬¦å·é“¾æ¥æˆ–å¤åˆ¶å›¾ç‰‡:
```bash
# æ–¹å¼1: å¤åˆ¶
cp A026_1.jpg A026_2.jpg
cp A026_1.jpg A026_3.jpg

# æ–¹å¼2: ç¬¦å·é“¾æ¥ (Linux/Mac)
ln -s A026_1.jpg A026_2.jpg
ln -s A026_1.jpg A026_3.jpg
```

æˆ–åœ¨ Excel ä¸­éƒ½å¡«å†™åŒä¸€ä¸ªè·¯å¾„:
```
products/A026_1.jpg
products/A026_1.jpg
products/A026_1.jpg
```

