{
  "$schema": "../../.ai/schemas/component.schema.json",
  "name": "temu-auto-publish",
  "version": "0.1.0",
  "type": "app",
  "description": "Temu å•†å“å‘å¸ƒè‡ªåŠ¨åŒ–ç³»ç»Ÿï¼Œä½¿ç”¨ Python + å½±åˆ€ RPA æ··åˆæ¶æ„",
  "category": "automation",
  "tags": ["rpa", "automation", "temu", "ecommerce", "yingdao"],
  "status": "in_development",
  "language": "python",
  "requires_python": ">=3.12",
  "dependencies": [
    "pandas>=2.2.0",
    "openpyxl>=3.1.0",
    "pydantic>=2.0.0",
    "loguru>=0.7.0",
    "typer>=0.12.0",
    "rich>=13.0.0"
  ],
  "interface": {
    "type": "cli",
    "commands": [
      {
        "name": "process",
        "description": "å¤„ç†é€‰å“è¡¨ï¼Œç”Ÿæˆä»»åŠ¡æ•°æ®",
        "usage": "python -m apps.temu-auto-publish process <excel_file>",
        "args": [
          {
            "name": "excel_file",
            "type": "path",
            "required": true,
            "description": "é€‰å“è¡¨ Excel æ–‡ä»¶è·¯å¾„"
          }
        ],
        "options": [
          {
            "name": "--output",
            "type": "path",
            "description": "è¾“å‡ºç›®å½•"
          }
        ],
        "output": {
          "type": "json",
          "schema": "src/models/task.py:TaskData"
        }
      },
      {
        "name": "login",
        "description": "æµ‹è¯• Temu ç™»å½•",
        "usage": "python -m apps.temu-auto-publish login",
        "options": [
          {
            "name": "--username",
            "type": "string",
            "description": "ç”¨æˆ·å"
          },
          {
            "name": "--password",
            "type": "string",
            "description": "å¯†ç "
          },
          {
            "name": "--force",
            "type": "boolean",
            "description": "å¼ºåˆ¶é‡æ–°ç™»å½•"
          }
        ]
      },
      {
        "name": "status",
        "description": "æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€å’Œé…ç½®",
        "usage": "python -m apps.temu-auto-publish status"
      },
      {
        "name": "dev excel",
        "description": "æµ‹è¯• Excel è¯»å–",
        "usage": "python -m apps.temu-auto-publish dev excel <file_path>"
      },
      {
        "name": "dev price",
        "description": "æµ‹è¯•ä»·æ ¼è®¡ç®—",
        "usage": "python -m apps.temu-auto-publish dev price <cost>"
      }
    ]
  },
  "data_flow": {
    "input": {
      "type": "excel",
      "path": "data/input/*.xlsx",
      "schema": "src/models/task.py:ProductInput",
      "description": "é€‰å“è¡¨ï¼ŒåŒ…å«å•†å“åç§°ã€æˆæœ¬ä»·ã€ç±»ç›®ã€å…³é”®è¯ç­‰ä¿¡æ¯"
    },
    "intermediate": {
      "type": "json",
      "path": "data/temp/yingdao_task.json",
      "description": "Python å†™å…¥çš„å½±åˆ€ä»»åŠ¡æ•°æ®"
    },
    "output": {
      "type": "json",
      "path": "data/output/task_*.json",
      "schema": "src/models/task.py:TaskData",
      "description": "å¤„ç†åçš„ä»»åŠ¡æ•°æ®ï¼ŒåŒ…å«æ‰€æœ‰äº§å“ä¿¡æ¯å’Œä»·æ ¼è®¡ç®—ç»“æœ"
    }
  },
  "modules": {
    "data_processor": {
      "path": "src/data_processor/",
      "description": "æ•°æ®å¤„ç†å±‚ï¼Œè´Ÿè´£ Excel è¯»å–ã€ä»·æ ¼è®¡ç®—ã€æ ‡é¢˜ç”Ÿæˆ",
      "exports": [
        "ExcelReader",
        "PriceCalculator",
        "TitleGenerator",
        "DataProcessor"
      ]
    },
    "yingdao": {
      "path": "src/yingdao/",
      "description": "å½±åˆ€æ§åˆ¶å±‚ï¼Œè´Ÿè´£ä¸å½±åˆ€ RPA äº¤äº’",
      "exports": [
        "CookieManager",
        "LoginController",
        "SearchController",
        "EditController"
      ]
    },
    "models": {
      "path": "src/models/",
      "description": "æ•°æ®æ¨¡å‹å®šä¹‰ï¼Œä½¿ç”¨ Pydantic è¿›è¡Œæ•°æ®éªŒè¯",
      "exports": [
        "ProductInput",
        "TaskProduct",
        "TaskData",
        "SearchResult",
        "EditResult",
        "PublishResult"
      ]
    }
  },
  "examples": [
    {
      "name": "åŸºç¡€å·¥ä½œæµ",
      "description": "ä» Excel åˆ°ä»»åŠ¡æ•°æ®ç”Ÿæˆçš„å®Œæ•´ç¤ºä¾‹",
      "file": "examples/basic_workflow.py",
      "usage": "python examples/basic_workflow.py"
    }
  ],
  "configuration": {
    "env_file": ".env",
    "config_files": [
      "config/settings.py",
      "config/yingdao_config.json"
    ],
    "required_env_vars": [
      "TEMU_USERNAME",
      "TEMU_PASSWORD"
    ],
    "optional_env_vars": [
      "PRICE_MULTIPLIER",
      "SUPPLY_PRICE_MULTIPLIER",
      "COLLECT_COUNT",
      "LOG_LEVEL"
    ]
  },
  "external_dependencies": {
    "yingdao": {
      "name": "å½±åˆ€ RPA å®¢æˆ·ç«¯",
      "version": "æœ€æ–°ç‰ˆ",
      "url": "https://www.yingdao.com/",
      "required": true,
      "description": "è´Ÿè´£æµè§ˆå™¨è‡ªåŠ¨åŒ–æ“ä½œ"
    }
  },
  "development": {
    "setup": [
      "cd /Users/candy/beimeng_workspace",
      "uv sync --extra temu --extra dev",
      "cp apps/temu-auto-publish/.env.example apps/temu-auto-publish/.env",
      "# ç¼–è¾‘ .env æ–‡ä»¶å¡«å†™é…ç½®"
    ],
    "test": [
      "uv run pytest apps/temu-auto-publish/tests/",
      "uv run python -m apps.temu-auto-publish status"
    ],
    "lint": [
      "uv run ruff check apps/temu-auto-publish/",
      "uv run ruff format apps/temu-auto-publish/",
      "uv run mypy apps/temu-auto-publish/"
    ]
  },
  "roadmap": {
    "week1": {
      "status": "in_progress",
      "tasks": [
        "âœ… é¡¹ç›®ç»“æ„åˆ›å»º",
        "âœ… æ•°æ®å¤„ç†å±‚ï¼ˆExcelã€ä»·æ ¼ã€æ ‡é¢˜ï¼‰",
        "ğŸš§ å½±åˆ€ç™»å½•æµç¨‹",
        "ğŸ“… æœç´¢é‡‡é›†æµç¨‹",
        "ğŸ“… é¦–æ¬¡ç¼–è¾‘æµç¨‹"
      ]
    },
    "week2": {
      "status": "planned",
      "tasks": [
        "æ‰¹é‡ç¼–è¾‘ 18 æ­¥",
        "æ‰¹é‡å‘å¸ƒ",
        "Python æµç¨‹ç¼–æ’"
      ]
    },
    "week3": {
      "status": "planned",
      "tasks": [
        "å®Œæ•´æµ‹è¯•",
        "æ–‡æ¡£æ•´ç†",
        "é¡¹ç›®äº¤ä»˜"
      ]
    }
  },
  "ai_hints": {
    "architecture": "Python å¤„ç†æ•°æ®é€»è¾‘ï¼Œå½±åˆ€å¤„ç†æµè§ˆå™¨äº¤äº’ï¼Œé€šè¿‡ JSON æ–‡ä»¶è§£è€¦",
    "data_flow": "Excel â†’ Python å¤„ç† â†’ JSON ä»»åŠ¡ â†’ å½±åˆ€æ‰§è¡Œ â†’ JSON ç»“æœ â†’ Python è®°å½•",
    "key_patterns": [
      "æ‰€æœ‰æ•°æ®ä½¿ç”¨ Pydantic æ¨¡å‹éªŒè¯",
      "æ‰€æœ‰æ¥å£è¾“å…¥è¾“å‡ºéƒ½æ˜¯ JSON",
      "å½±åˆ€é€šè¿‡æ–‡ä»¶äº¤äº’ï¼ˆdata/temp/yingdao_task.json å’Œ yingdao_result.jsonï¼‰",
      "Cookie ç®¡ç†é¿å…é¢‘ç¹ç™»å½•",
      "å®Œæ•´çš„ç±»å‹æç¤ºå’Œ docstring"
    ],
    "when_modifying": [
      "ä¿®æ”¹æ•°æ®ç»“æ„æ—¶æ›´æ–° Pydantic æ¨¡å‹",
      "æ·»åŠ æ–°å½±åˆ€æµç¨‹æ—¶åˆ›å»ºå¯¹åº”çš„æ§åˆ¶å™¨",
      "æ‰€æœ‰å‡½æ•°éƒ½éœ€è¦å®Œæ•´çš„ç±»å‹æç¤ºå’Œ Google Style docstring",
      "éµå¾ªå•ä¸€èŒè´£åŸåˆ™ï¼Œæ¨¡å—ä¸è¶…è¿‡ 500 è¡Œ"
    ],
    "common_tasks": {
      "add_new_flow": "åœ¨ src/yingdao/ åˆ›å»ºæ–°æ§åˆ¶å™¨ï¼Œå‚è€ƒ login_controller.py",
      "add_data_model": "åœ¨ src/models/ æ·»åŠ  Pydantic æ¨¡å‹",
      "add_cli_command": "åœ¨ __main__.py æ·»åŠ æ–°çš„ @app.command()",
      "test_module": "åˆ›å»ºå¯¹åº”çš„ tests/test_*.py æ–‡ä»¶"
    }
  },
  "documentation": {
    "readme": "README.md",
    "guides": [
      "../../docs/projects/temu-auto-publish/guides/quickstart.md",
      "../../docs/projects/temu-auto-publish/guides/data-format.md"
    ],
    "api": "é€šè¿‡ docstrings ç”Ÿæˆï¼Œè¿è¡Œ pdoc apps/temu-auto-publish",
    "architecture": "../../docs/projects/temu-auto-publish/index.md"
  },
  "notes": [
    "è¿™æ˜¯ä¸€ä¸ª MVP ç‰ˆæœ¬ï¼Œé‡ç‚¹æ˜¯æ ¸å¿ƒæµç¨‹çš„è‡ªåŠ¨åŒ–",
    "å½±åˆ€æµç¨‹éœ€è¦åœ¨å½±åˆ€å®¢æˆ·ç«¯ä¸­æ‰‹åŠ¨åˆ›å»ºå’Œç»´æŠ¤",
    "Cookie æœ‰æ•ˆæœŸé»˜è®¤ 24 å°æ—¶",
    "ä»·æ ¼è®¡ç®—å…¬å¼ï¼šå»ºè®®å”®ä»· = æˆæœ¬ Ã— 7.5ï¼Œä¾›è´§ä»· = æˆæœ¬ Ã— 10",
    "æ”¯æŒå¤šç§æ ‡é¢˜ç”Ÿæˆæ¨¡å¼ï¼štemu(å½±åˆ€AI)ã€api(å¤–éƒ¨API)ã€rule(è§„åˆ™ç”Ÿæˆ)"
  ]
}

